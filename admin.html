<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8"/>
<title>Admin - Snacks Store</title>
<style>
body {font-family:Arial; background:#f2f2f2; text-align:center}
#panel {display:none}
input {padding:8px;margin:5px}
button {padding:6px 12px;margin:5px}
.orderBox{border:1px solid #000;margin:10px;padding:10px;background:#fff}
</style>
</head>
<body>

<h2>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Snacks Store</h2>

<!-- Ø´Ø§Ø´Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± -->
<div id="loginBox">
  <h3>Ø§Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±</h3>
  <input type="password" id="passInput" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
  <button onclick="checkPass()">Ø¯Ø®ÙˆÙ„</button>
</div>

<!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
<div id="panel">

<h3>Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬</h3>
<input id="pname" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
<input id="pprice" placeholder="Ø§Ù„Ø³Ø¹Ø±">
<input id="pimg" placeholder="Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø©">
<button onclick="addProduct()">Ø¥Ø¶Ø§ÙØ©</button>

<h3>Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h3>
<div id="orders"></div>

</div>

<script>
const correctPass = "01012768312pqpqwuyieqw";
function checkPass(){
  if(passInput.value === correctPass){
    loginBox.style.display="none";
    panel.style.display="block";
  } else alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ØºÙ„Ø· âŒ");
}
</script>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
import { getDatabase, ref, push, onValue, update } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-database.js";

const firebaseConfig = {
  apiKey:"AIzaSyBY0MBybVBW5GHpN1gatyrOqdYHkH726zw",
  authDomain:"snacks-store-35112.firebaseapp.com",
  databaseURL:"https://snacks-store-35112-default-rtdb.firebaseio.com",
  projectId:"snacks-store-35112",
  storageBucket:"snacks-store-35112.firebasestorage.app",
  messagingSenderId:"523521529745",
  appId:"1:523521529745:web:2fb1ec4fc48d99e11eec30"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

window.addProduct = ()=> push(ref(db,"products"),{
  name:pname.value,
  price:Number(pprice.value),
  img:pimg.value
});

onValue(ref(db,"orders"), snap=>{
 orders.innerHTML="";
 snap.forEach(c=>{
   let o=c.val();
   let total=0;
   let itemsHTML="";

   o.cart.forEach((item,i)=>{
     if(item.qty>0){
       total+=item.price*item.qty;
       itemsHTML+=`
       <div>
         <img src="${item.img}" width="40">
         ${item.name} Ã— ${item.qty}
         <button onclick="removeItem('${c.key}',${i})">âŒ Ø­Ø°Ù</button>
       </div>`;
     }
   });

   orders.innerHTML+=`
   <div class="orderBox">
   ğŸ‘¤ ${o.name} â€” ğŸ“ ${o.phone}<br>
   <a href="${o.location}" target="_blank">Ø§Ù„Ù…ÙˆÙ‚Ø¹</a><br>
   ${itemsH
